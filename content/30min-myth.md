# 「初速30分」神話の真実 — ソースコードが語る本当のアルゴリズム

## TL;DR
「投稿後30分が全てを決める」と言われているが、ソースコードを読むとそれは正確ではない。30分ウィンドウは「投稿後30分」ではなく「**ローリング30分集計**」であり、エンゲージメントが集中し始めたタイミングからの30分が重要。

---

## 「初速30分」はどこから来たのか

2023年3月、Xの推薦アルゴリズムがGitHub上にオープンソース化された。そのソースコードの中に、`author_aggregate (real_time)` という特徴量グループが存在する。

```
author (real_time) → 30.minutes.count
```

この「30分」という数字が独り歩きし、「投稿後30分でツイートの運命が決まる」という「初速30分ルール」がSNSマーケティング界隈で広まった。

しかし、**ソースコードをちゃんと読むと、その解釈は正確ではない**。

---

## ソースコードが実際に言っていること

### ローリングウィンドウとは

`30.minutes.count` は **ローリングウィンドウ**（滑動窓）による集計。

- ❌ 「ツイートを投稿してから30分間」のエンゲージメントを計測
- ✅ 「**現在の時刻から遡って30分間**」の著者全体のエンゲージメントを計測

つまり、これは特定のツイートの初速ではなく、**その著者が直近30分間にどれだけエンゲージメントを受けているか**の著者レベルの特徴量。

### 集計対象

ソースコード `FEATURES.md` によると、以下のエンゲージメントが30分ウィンドウで集計される:

| エンゲージメント | 集計 |
|----------------|------|
| is_favorited (いいね) | 30分カウント |
| is_replied (リプライ) | 30分カウント |
| is_retweeted (リポスト) | 30分カウント |
| is_clicked (クリック) | 30分カウント |
| is_dwelled (滞在) | 30分カウント |
| is_profile_clicked (プロフィール訪問) | 30分カウント |
| is_video_playback_50 (動画50%視聴) | 30分カウント |
| is_dont_like (興味なし) | 30分カウント |
| is_block_clicked (ブロック) | 30分カウント |
| is_mute_clicked (ミュート) | 30分カウント |
| is_report_tweet_clicked (通報) | 30分カウント |

これら全てが **著者レベル** で集計される。つまり、あなたのツイート全体に対する直近30分間の反応。

---

## Grok導入後、何が変わったか

### 2023年（オープンソース時点）
```
投稿 → フォロワーに配信 → エンゲージメント発生 → スコア計算 → 配信拡大/縮小
```

この時点では、初期配信の判断材料はほぼ「著者の過去の実績」のみ。投稿直後のエンゲージメントが唯一の初期シグナルだった。

### 2024年以降（Grok統合後）
```
投稿 → ★Grokが品質評価 → 初期配信範囲を決定 → フォロワーの一部に表示
     → ぽつぽつEGがつく → おすすめに載る/SimClusters経由で拡散
     → ★EGが集中し始める → ローリング30分ウィンドウに反映
     → さらにスコア上昇 → さらに配信拡大
```

Grokの導入により、**投稿直後の品質評価**が追加された。これにより:

1. **コンテンツ品質が高いと判定** → 初期配信の母数が増える → EGが発生しやすくなる
2. **コンテンツ品質が低いと判定** → 初期配信が絞られる → EGが出にくい

つまり、「投稿後30分」ではなく、**エンゲージメントが本格的に集中し始めてからの30分ウィンドウ**が実際のスコアに影響する。

---

## 実践的な示唆

### 旧モデル（初速30分ルール）で言われていたこと
- 投稿したら即座にリプライを促す
- 投稿後30分以内にいいね/リプライを集めろ
- タイマーは投稿した瞬間から始まる

### 新モデル（ローリングウィンドウ + Grok）で重要なこと

1. **コンテンツ品質を上げる** → Grokの事前評価で初期配信が決まる
2. **著者全体のEG速度を維持する** → ローリング30分ウィンドウは著者レベル
3. **配信が始まったタイミングでの加速度** → おすすめに載った瞬間からの30分が勝負
4. **リプライに返信する習慣** → reply_engaged_by_author = 75.0（最強の重み）

### 特に注意すべきポイント

- 投稿直後に焦ってEGを集めようとしても、Grokの品質評価が先に来る
- 品質の低いツイートをいくら初速で盛っても、Grokが配信を絞る可能性がある
- むしろ、**質の高いコンテンツを投稿し、配信が始まったら全力でリプライに返信する**方が効果的

---

## まとめ

| | 旧理解 | 新理解（ソースコード準拠） |
|---|---|---|
| 30分の定義 | 投稿後30分 | ローリング30分ウィンドウ |
| 集計レベル | ツイート単体 | 著者全体 |
| 初期配信判定 | EG速度のみ | Grok品質評価 + EG速度 |
| 最重要時間帯 | 投稿直後30分 | EG集中開始からの30分 |
| 最も効果的な行動 | 即座にEGを集める | 質の高い投稿 + リプライ返信 |

**結論**: 「初速30分」は完全な嘘ではないが、正確でもない。ソースコードは「直近30分のローリングウィンドウ」と言っている。Grok導入後は、コンテンツ品質の事前評価が追加され、投稿直後のEGだけでは配信拡大は決まらなくなった。

---

*ソースコード参照: `twitter/the-algorithm-ml` — `projects/home/recap/FEATURES.md`*
*author_aggregate (real_time) — `30.minutes.count`*
